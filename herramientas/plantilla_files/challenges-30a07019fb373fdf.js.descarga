(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5834],{11066:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/challenges",function(){return t(91850)}])},90550:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var r=t(74848),s=t(52064),i=t(66247),a=t(82058),l=t(96540),c=t(67310),o=t(37318),d=t(47863),x=t(94850),u=t(58782),h=t(8172);let g=e=>{let{user:n,type:t,path:g}=e,p=(0,l.useRef)(null),[j,m]=(0,l.useState)(null),[A,y]=(0,l.useState)(1),[f,_]=(0,l.useState)(null),[v,b]=(0,l.useState)(!0),[C,S]=(0,l.useState)(null),[w,B]=(0,l.useState)(e.sortBy||"recent"),T=(0,o.d4)(e=>e.user.token);async function k(){p.current=Date.now();let r=p.current,s={type:t,page:A,text:f,sortBy:w};n&&n._id&&(s["user._id"]=n._id),e.org&&e.org._id&&(s["org._id"]=e.org._id),e.team&&e.team._id&&(s["team._id"]=e.team._id);let{statusCode:i,json:a}=await (0,d.RA)("/api/posts/search",T,s);200===i?p.current==r&&(b(a.length>0),m((j||[]).concat(a)),S(null)):S("Operation timedout, please try again!")}async function N(e,n){if("deleted"===n)m(j.filter(n=>n._id!==e));else{let t=[...j];t.filter(n=>n._id===e)[0].visibility=n,m(t)}}(0,l.useEffect)(()=>{S(null),k()},[A,f,w]);let E=e=>{e!==w&&(m(null),y(1),B(e))};function L(e){return(0,r.jsx)(s.A,{component:"div",sx:e=>({marginLeft:e.spacing(6),marginTop:e.spacing(6)}),children:(0,r.jsx)(i.A,{variant:"body2",children:e.msg})})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(a.Ay,{item:!0,xs:12,md:5,children:(0,r.jsx)(x.A,{onChange:e=>{m(null),y(1),_(e||null)}})}),(0,r.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(a.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[(0,r.jsx)(a.Ay,{item:!0,onClick:()=>E("recent"),children:(0,r.jsx)(i.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",sx:e=>"recent"===w?{cursor:"pointer",borderBottom:"2px solid ".concat(e.palette.secondary.main)}:{cursor:"pointer"},children:"Recent"})}),(0,r.jsx)(a.Ay,{item:!0,onClick:()=>E("top"),children:(0,r.jsx)(i.A,{variant:"body2",gutterBottom:!0,color:"textSecondary",sx:e=>"top"===w?{cursor:"pointer",borderBottom:"2px solid ".concat(e.palette.secondary.main)}:{cursor:"pointer"},children:"Top"})})]})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),f||t?null!==j||C?j&&j.length>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"scrollableDiv",children:(0,r.jsx)(c.A,{dataLength:j.length,next:()=>y(A+1),hasMore:v,loader:(0,r.jsx)(L,{msg:"Loading more data... "}),endMessage:(0,r.jsx)(L,{msg:"You have reached the end."}),children:j.length>0&&j.map((e,n)=>(0,r.jsx)(h.A,{postObj:e,path:"code"!=t?g:"".concat(e.properties.language),handlePostVisibilityUpdate:N},e._id))})})}):(0,r.jsx)(u.A,{}):(0,r.jsx)(i.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),color:"primary",variant:"body1",children:"Start typing to searchâ€¦"}),j&&0==j.length&&!C&&(0,r.jsx)(i.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),variant:"body1",children:"Nothing found!"}),C&&(0,r.jsx)(i.A,{sx:e=>({paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}),variant:"body1",children:C})]})}},94850:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var r=t(74848),s=t(91703),i=t(45931),a=t(2424),l=t(39641),c=t(77861),o=t(96540);let d=e=>{let[n,t]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let t=setTimeout(()=>{null!==n&&e.onChange(n)},500);return()=>clearTimeout(t)},[n]),(0,r.jsxs)(s.A,{variant:"outlined",sx:e=>({padding:"0px 2px",display:"flex",alignItems:"center",marginBottom:e.spacing(1)}),children:[(0,r.jsx)(i.Ay,{onChange:e=>{t(e.target.value)},value:n||"",sx:e=>({marginLeft:e.spacing(3),flex:1}),placeholder:e.placeholder||"Search...",fullWidth:!0}),n?(0,r.jsx)(a.A,{"aria-label":"search",onClick:e=>t(""),size:"large",children:(0,r.jsx)(l.A,{})}):(0,r.jsx)(a.A,{"aria-label":"search",size:"large",children:(0,r.jsx)(c.A,{})})]})}},91850:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>p});var r=t(74848),s=t(19427),i=t(55935),a=t(23278),l=t(82058),c=t(13368),o=t.n(c);t(96540);var d=t(37318),x=t(77515),u=t(80923),h=t(90550),g=t(63279);function p(e){let n=(0,d.d4)(e=>e.user.userLoggedIn);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Challenges - OneCompiler"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.A,{}),(0,r.jsx)(a.A,{component:"main",children:(0,r.jsxs)(l.Ay,{container:!0,spacing:0,children:[(0,r.jsx)(l.Ay,{item:!0,xs:12,md:1}),(0,r.jsx)(l.Ay,{item:!0,xs:12,md:9,children:(0,r.jsxs)("div",{className:"mlr10",children:[(0,r.jsxs)(s.A,{children:[(0,r.jsx)(g.Link,{route:n?"/challenges/create":"/login?redirectTo=/challenges/create",children:(0,r.jsx)("span",{className:"textDecorationNone",children:(0,r.jsx)(i.A,{variant:"outlined",color:"primary",children:"Create"})})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]}),(0,r.jsx)(h.A,{type:"challenge",path:"challenges",sortBy:"top"})]})})]})}),(0,r.jsx)(x.A,{})]})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[2611,2058,7062,863,7840,8851,7862,2101,2350,655,1884,9637,3554,8650,8556,2203,1494,923,1434,636,6593,8792],()=>n(11066)),_N_E=e.O()}]);